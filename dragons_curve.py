import turtle

# =====================================================================
# 1. ДНК ДРАКОНА
# =====================================================================
# Начало: просто прямая линия
axiom = "FX"

# Правила складывания бумаги.
# X и Y — это вспомогательные символы, управляющие направлением изгибов.
rules = {
    "X": "X+YF+",
    "Y": "-FX-Y"
}


# =====================================================================
# 2. ВРЕМЯ (Итерации)
# =====================================================================
def grow_dna(state, iterations):
    for _ in range(iterations):
        new_state = ""
        for char in state:
            new_state += rules.get(char, char)
        state = new_state
    return state


# 12 итераций создают уже очень сложную структуру
iterations = 12
dna_sequence = grow_dna(axiom, iterations)

# =====================================================================
# 3. ФИЗИЧЕСКИЙ МИР (Отрисовка)
# =====================================================================
screen = turtle.Screen()
screen.bgcolor("black")
t = turtle.Turtle()
t.color("magenta")  # Магический цвет для магической кривой
t.speed(0)  # Максимальная скорость
t.hideturtle()

# Сдвигаем начало, чтобы дракон поместился на экране
t.penup()
t.goto(-100, -100)
t.pendown()

angle = 90  # Строгие прямые углы

print(f"Итераций: {iterations}. Длина ДНК: {len(dna_sequence)} команд.")
print("Начинаю сворачивание пространства...")

for cmd in dna_sequence:
    if cmd == 'F':
        t.forward(5)
    elif cmd == '+':
        t.right(angle)
    elif cmd == '-':
        t.left(angle)
    # Символы X и Y игнорируются черепашкой, они нужны были только для роста ДНК

turtle.done()
