import turtle

# =====================================================================
# 1. НОВАЯ ДНК (Снежинка Коха)
# =====================================================================
axiom = "F--F--F"  # Начальное семечко: три линии, образующие треугольник

# Базовое правило. Читается так:
# "Прямая линия (F) заменяется на линию (F), поворот налево (+),
# еще линию (F), разворот направо (--), линию (F), поворот налево (+) и линию (F)"
rules = {
    "F": "F+F--F+F"
}


# =====================================================================
# 2. ВРЕМЯ (Итеративная "распаковка")
# =====================================================================
def grow_dna(state, iterations):
    for _ in range(iterations):
        state = "".join([rules.get(char, char) for char in state])
    return state


# 4 итераций вполне достаточно.
# На 5-й итерации команд будет уже десятки тысяч, и отрисовка займет время!
dna_sequence = grow_dna(axiom, 4)

# =====================================================================
# 3. ФИЗИЧЕСКИЙ МИР (Отрисовка)
# =====================================================================
turtle.Screen().bgcolor("black")
turtle.color("cyan")  # Меняем цвет на "ледяной" неон
turtle.speed(0)  # Турбо-режим отрисовки

# Центрируем снежинку на экране
turtle.penup();
turtle.goto(-150, 100);
turtle.pendown()

angle = 60  # Строгая кристаллическая геометрия

print(f"Длина сгенерированной цепочки: {len(dna_sequence)} команд. Начинаю кристаллизацию...")

# Процессор выполняет команды
for cmd in dna_sequence:
    if cmd == 'F':
        turtle.forward(3)  # Вырастить кристалл вперед
    elif cmd == '+':
        turtle.left(angle)  # Поворот налево на 60 градусов
    elif cmd == '-':
        turtle.right(angle)  # Поворот направо на 60 градусов

turtle.done()
